# PROJECT MEMORY â€” auto_trade_v20

ì—…ë°ì´íŠ¸: 2025-10-31
\# PROJECT MEMORY â€” auto\_trade\_v20 (ì˜¤ë¶€ì¥ ì „ìš© ìš”ì•½)



\## ğŸ“… í˜„ì¬ ìƒíƒœ (2025-10-28)

\- ë‰´ìŠ¤ ìë™ ìš”ì•½/ì €ì¥ ì •ìƒ ì‘ë™ (`news\\\\\\\\\\\\\\\_logs/ì˜¤ëŠ˜\\\\\\\\\\\\\\\_ë‰´ìŠ¤\\\\\\\\\\\\\\\_ìš”ì•½\\\\\\\\\\\\\\\_2025-10-28.txt`)

\- `scripts/run\\\\\\\\\\\\\\\_news\\\\\\\\\\\\\\\_8am.bat` ì •ìƒ ì‘ë™

\- `tests/smoke\\\\\\\\\\\\\\\_news.py` ì •ìƒ ë™ì‘ í™•ì¸ë¨

\- ë‹¨íƒ€ ì—”ì§„ (`hub/hub\\\\\\\\\\\\\\\_trade.py`) DRY\_RUN ë§¤ìˆ˜ ì •ìƒ ì²´ê²°ë¨

\- ê¹ƒ ì»¤ë°‹: `3aef258` (snapshot before adding scripts/smoke tests)



\## ğŸ“‚ í´ë” êµ¬ì¡°

\- hub/hub\_trade.py : ì „ëµ í—ˆë¸Œ

\- order/router.py : ì£¼ë¬¸ ë¼ìš°í„°

\- scoring/core.py : ìŠ¤ì½”ì–´ë§ ì—”ì§„

\- risk/core.py : ë¦¬ìŠ¤í¬ ê²Œì´íŠ¸

\- obs/log.py : ë¡œê¹… ëª¨ë“ˆ

\- news\_logs/ : ë‰´ìŠ¤ ê²°ê³¼ ë° ìš”ì•½ ì €ì¥ ê²½ë¡œ

\- scripts/ : ìë™ ì‹¤í–‰ ë°°ì¹˜ (8ì‹œ ë‰´ìŠ¤ í¬í•¨)

\- tests/ : ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ

\- common/config.py : ì „ì—­ ì„¤ì • (DAYTRADE í¬í•¨)



\## ğŸ”§ ë‹¤ìŒ í•  ì¼

1\. Kiwoom ì‹¤ê³„ì¢Œ ëª¨ë“œ ì—°ê²° ì¤€ë¹„

2\. run\_daytrade.pyì— í—ˆë¸Œ ìë™ ì—°ê²° ì¶”ê°€

3\. daily report ìë™ ìš”ì•½ í…œí”Œë¦¿ ì—°ë™



\## ğŸ“… í”„ë¡œì íŠ¸ ìƒíƒœ ìš”ì•½ â€” 2025-10-29



\*\*ë‹¨ê³„:\*\* ì‹¤ì „ ì§„ì… ì§ì „ (v20 ì•ˆì •í™” ë‹¨ê³„)



\*\*í•µì‹¬ ì§„í–‰ ìš”ì•½\*\*

| êµ¬ë¶„ | ë‚´ìš© | ìƒíƒœ |

|------|------|------|

| ì—”ì§„ êµ¬ì¡° | `run\_daytrade.py`, `hub\_trade.py`, `order/router`, `risk/core` ì™„ì„± | âœ… ì™„ë£Œ |

| Kiwoom ì—°ë™ | `KiwoomAdapter` êµ¬í˜„ ë° DRY\_RUN í…ŒìŠ¤íŠ¸ ì™„ë£Œ, ì‹¤ê³„ì¢Œ ì—°ë™ ëŒ€ê¸° | ğŸŸ¡ ì¤€ë¹„ ì¤‘ |

| ë¦¬ìŠ¤í¬ ê´€ë¦¬ | `risk/policies/` ì„¸ë¶„í™” ì„¤ê³„ ì§„í–‰ ì¤‘ (exposure, day\_dd, sector\_cap ë“±) | ğŸŸ¡ ì§„í–‰ ì¤‘ |

| ì„¹í„°ë§µ | `data/sector\_map.csv` ë¡œë“œ ë¡œì§ `hub/hub\_trade.py`ì— ë°˜ì˜ë¨ | ğŸŸ¡ íŒŒì¼ ìƒì„± ì˜ˆì • |

| ë³´ì •ê¸°(ì¹¼ë¦¬ë¸Œë ˆì´í„°) | í™œì„±í™” í…ŒìŠ¤íŠ¸ ì™„ë£Œ (EMA ê¸°ë°˜ ì‹¤ì‹œê°„ ê°€ì¤‘ì¹˜ ì¡°ì •) | âœ… ì™„ë£Œ |

| ë¡œê·¸/ìš”ì•½ | ì„¸ì…˜ ë¡œê·¸(`logs/daytrade\_YYYYMMDD.log`) + ìš”ì•½(JSON) ì •ìƒ ì‘ë™ | âœ… ì™„ë£Œ |

| PROJECT\_MEMORY | ì˜¤ë¶€ì¥ ê¸°ì–µ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™ (watch ìŠ¤í¬ë¦½íŠ¸ ëŒ€ê¸°) | âœ… ì™„ë£Œ |



\*\*í˜„ì¬ ëª¨ë“œ\*\*

\- ì‹¤í–‰ ëª¨ë“œ: `DRY\_RUN` (ì‹¤ê³„ì¢Œ ì „í™˜ ì¤€ë¹„)

\- ì´ ì˜ˆì‚°: 3,000,000ì›

\- ë³´ì •ê¸°: í™œì„±í™”(lr=0.02, hist=100, clip=0.05)

\- ì„¹í„° ê¸°ë°˜ ë¦¬ìŠ¤í¬ ì •ì±…: ì¤€ë¹„ ì¤‘



\*\*ë‹¤ìŒ ë‹¨ê³„\*\*

1\. `risk/policies/` ì„¸ë¶„í™” ì •ì±… í™•ì • (exposure, sector\_cap ë“±)

2\. `data/sector\_map.csv` ì‘ì„± ë° í…ŒìŠ¤íŠ¸

3\. Kiwoom ì‹¤ê³„ì¢Œ ì—°ê²° í…ŒìŠ¤íŠ¸

4\. `REAL\_MODE` ì²« ì‹¤ì „ ë§¤ë§¤ ì„¸ì…˜ ì‹¤í–‰

5\. ìë™ ì»¤ë°‹ ê°ì‹œ(`watch\_project\_memory.py`) í™œì„±í™”



---



ğŸ§© \*í˜„ì¬ ìƒíƒœ ìš”ì•½:\*  

> â€œv20 ì—”ì§„ ë° ë³´ì • ì‹œìŠ¤í…œì´ ì™„ì„±ë˜ì—ˆìœ¼ë©°, ë¦¬ìŠ¤í¬ ì •ì±…ê³¼ ì„¹í„° ë…¸ì¶œ ê³„ì‚° ëª¨ë“ˆë§Œ í™•ì •ë˜ë©´ ì¦‰ì‹œ ì‹¤ì „ ë§¤ë§¤ ì§„ì… ê°€ëŠ¥ ìƒíƒœì„.â€





## ë³€ê²½ ì´ë ¥
- 2025-10-29 â€” test: memory auto update

## ğŸ“… í˜„ì¬ ìƒíƒœ (2025-10-30)
- ë‰´ìŠ¤ ìë™í™” íŒŒì´í”„ë¼ì¸ ì ê²€ ë° ìŠ¤ì¼€ì¤„ëŸ¬ ì •ìƒí™” âœ…
- py -X utf8 -m tests.smoke_news OK
- ìŠ¤ì¼€ì¤„ëŸ¬: NewsSummary_0805 (py ì§ì ‘ í˜¸ì¶œë¡œ ìˆ˜ì •)
- ë¡œê·¸: news_logs\cron\news_8am.log í™•ì¸ (18:12)

## ğŸ“… 2025-10-30 â€” DayDD ë¦¬ìŠ¤í¬ ì œì–´ ê¸°ëŠ¥ í™•ì¥ ì™„ë£Œ

### âœ… ì£¼ìš” ë³€ê²½ ì‚¬í•­
- **risk/day_dd.py**: ì‹¤ê±°ë˜ìš© íŒŒë¼ë¯¸í„° (-2% / -1% / 15ë¶„ / 0.4) ë˜í¼ `make_daydd()` ì¶”ê°€  
- **risk/policies/day_dd_policy.py**: soft-zone ì¶•ì†Œ, hard-cut ì°¨ë‹¨, ì¿¨ë‹¤ìš´ ìœ ì§€ ë¡œì§ ì™„ì„±  
- **risk/core.py**: RiskGate ìë™ ì£¼ì… (`make_daydd()`) + evaluate ë³‘í•© ë¡œê·¸ ì¶œë ¥  
- **hub/hub_trade.py**: MTM ê¸°ë°˜ `equity_now` ê³„ì‚° â†’ DayDD ì»¨í…ìŠ¤íŠ¸ ì „ë‹¬ êµ¬ì¡° ì•ˆì •í™”  
- **í…ŒìŠ¤íŠ¸ í†µê³¼**:
  - `tests/test_daydd_block.py` : í•˜ë“œì»· ì°¨ë‹¨ ì •ìƒ (`daydd_hard`)  
  - `tests/unit_daydd_soft_scale.py` : soft-zone ì¶•ì†Œ ì •ìƒ  
  - `tests/unit_daydd_cooldown.py` : ì¿¨ë‹¤ìš´ í•´ì œ ì •ìƒ  

## ğŸ“… 2025-10-31 â€” ë¦¬ìŠ¤í¬ 2ì¶• ì™„ì„± (DayDD + Exposure)

### âœ… ì˜¤ëŠ˜ ì™„ë£Œ
- `risk/policies/exposure.py` ì •ë¦¬: ì´ì•¡/ì‹¬ë³¼(ì˜µì…˜: ì„¹í„°) ìº¡ + `max_qty_hint`
- í…ŒìŠ¤íŠ¸ í†µê³¼: `tests/test_exposure_policy.py` â†’ **3 passed**
- í™˜ê²½ ì´ìŠˆ í•´ê²°: Python 3.10 ê¸°ì¤€ `pytest` ì‹¤í–‰ í™•ì¸

### ğŸ” ì°¸ê³  ë¡œê·¸
- í…ŒìŠ¤íŠ¸: `py -3.10 -X utf8 -m pytest tests/test_exposure_policy.py -q` â†’ `3 passed`

### â–¶ ë‹¤ìŒ í•œ ê±¸ìŒ
- Exit ê·œì¹™ í†µí•©: `take_profit / stop_loss / trailing` ìš°ì„ í‰ê°€ ì ìš© (í—ˆë¸Œì— ì—°ê²°)
---
## ğŸ“… 2025-10-31 â€” Exit Rules í†µí•© (ìµì ˆÂ·ì†ì ˆÂ·íŠ¸ë ˆì¼ë§)

### âœ… ì£¼ìš” ì‘ì—…
- `scoring/rules/exit_rules.py`: ìµì ˆÂ·ì†ì ˆÂ·íŠ¸ë ˆì¼ë§ ìŠ¤íƒ‘ í†µí•© ì—”ì§„ ì‘ì„±
- `tests/test_exit_rules.py`: ëª¨ë“  ì¼€ì´ìŠ¤ **3 passed**
- í…ŒìŠ¤íŠ¸ í™˜ê²½: Python 3.10 ê¸°ì¤€ ì •ìƒ ì‘ë™

### ğŸ” ì„¸ë¶€ ë‚´ìš©
- ìµì ˆ(`take_profit`): +2% ì´ìƒ ì‹œ ì²­ì‚°
- ì†ì ˆ(`stop_loss`): -1% ì´í•˜ ì‹œ ì²­ì‚°
- íŠ¸ë ˆì¼ë§(`trailing_stop`): ìµœê³ ê°€ ëŒ€ë¹„ 3% í•˜ë½ ì‹œ ì²­ì‚°
- `min_hold_ticks=1` ë¡œ í…ŒìŠ¤íŠ¸ ë‹¨ì¶• ì„¤ì •

### â–¶ ë‹¤ìŒ ë‹¨ê³„
1. HubTrade ë£¨í”„ì— `exit_rules.apply_exit()` ì—°ê²°
2. ë¦¬ìŠ¤í¬ ê²Œì´íŠ¸ ê²°ê³¼ì™€ ë³‘í•© í‰ê°€ (ì¤‘ë³µ ì°¨ë‹¨ ë°©ì§€)
3. ì„¸ì…˜ ìš”ì•½ ë¡œê·¸ì— `exit_reason` ê¸°ë¡ ìë™í™”
---

### ğŸ’¡ í–¥í›„ ê³„íš
1. ìˆ˜ìˆ˜ë£Œ/ì„¸ê¸ˆ ë°˜ì˜í˜• ì†ìµë¥  ê³„ì‚°  
2. ì„¹í„°Â·í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë°˜ ì¶”ê°€ ë¦¬ìŠ¤í¬ ì •ì±…  
3. ë¦¬í¬íŠ¸ ìš”ì•½ ìë™ ì €ì¥ (daydd_session_summary.csv)

## ğŸ“… 2025-10-31 â€” ì „ì²´ ìƒíƒœ ì •ë¦¬ (auto_trade_v20 í•µì‹¬ ì•ˆì •í™” ì™„ë£Œ)

### ğŸš€ í˜„ì¬ ë‹¨ê³„
> **â€œì—”ì§„ ë° ë¦¬ìŠ¤í¬ ì‹œìŠ¤í…œ ì™„ì„±, Exit ê·œì¹™ í†µí•©ê¹Œì§€ ì™„ë£Œ â€” ì‹¤ì „ ë§¤ë§¤ ì§„ì… ì§ì „ ë‹¨ê³„.â€**

---

### âœ… í•µì‹¬ êµ¬ì„± í˜„í™©

| êµ¬ë¶„ | ì£¼ìš” íŒŒì¼ | ë‚´ìš© | ìƒíƒœ |
|------|------------|------|------|
| **ì—”ì§„ í—ˆë¸Œ** | `hub/hub_trade.py` | ì‹œì„¸â†’ì ìˆ˜â†’ë¦¬ìŠ¤í¬â†’ì£¼ë¬¸ ì‹¤í–‰ íë¦„ ì™„ì„± | âœ… |
| **ë¦¬ìŠ¤í¬ ê²Œì´íŠ¸** | `risk/core.py` | ì •ì±… ê¸°ë°˜ (DayDD + Exposure) í†µí•© | âœ… |
| **ì •ì±…: DayDD** | `risk/policies/day_dd.py` | í•˜ë£¨ ì†ìµë¥  ê¸°ë°˜ ì°¨ë‹¨/ì¿¨ë‹¤ìš´ | âœ… |
| **ì •ì±…: Exposure** | `risk/policies/exposure.py` | ì´ì•¡/ì‹¬ë³¼ í•œë„ + size_hint ì œê³µ | âœ… |
| **Exit Rules** | `scoring/rules/exit_rules.py` | ìµì ˆÂ·ì†ì ˆÂ·íŠ¸ë ˆì¼ë§ í†µí•© íŒë‹¨ | âœ… |
| **í…ŒìŠ¤íŠ¸ ì„¸íŠ¸** | `tests/test_*.py` | ëª¨ë“  ëª¨ë“ˆ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 100% í†µê³¼ | âœ… |
| **í™˜ê²½/ë¡œê·¸** | `tools/update_project_memory.py`, `news_logs`, `logs/` | ìë™ ê¸°ë¡/ìš”ì•½ ì •ìƒ ì‘ë™ | âœ… |

---

### âš™ï¸ ì‹¤í–‰ í™˜ê²½
- Python 3.10 (pytest ê¸°ë°˜ í…ŒìŠ¤íŠ¸)
- ì‹¤í–‰ ëª¨ë“œ: `DRY_RUN`
- ì´ ì˜ˆì‚°: 3,000,000ì›  
- ë³´ì •ê¸°(ì¹¼ë¦¬ë¸Œë ˆì´í„°): í™œì„±í™” (lr=0.02, hist=100, clip=0.05)
- ë¦¬ìŠ¤í¬ ì •ì±…: DayDD + Exposure ë³‘í–‰  
- Exit Rules: TP/SL/Trailing í™œì„±í™”  

---

### â–¶ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ (11ì›” ì´ˆ ê³„íš)
1. **HubTrade â†” ExitRules ì—°ê²°**
   - `on_tick()` ë‚´ ì‹¤ì‹œê°„ ì†ìµë¥  ê³„ì‚° â†’ `exit_rules.apply_exit()` í˜¸ì¶œ  
   - ë¦¬ìŠ¤í¬ ì°¨ë‹¨ê³¼ ë³‘í•© í‰ê°€ (`RiskGate` + `ExitRules` ë³‘ë ¬ ì²˜ë¦¬)

2. **ì‹¤ì „ ëª¨ë“œ(REAL_MODE) Dry-Run í…ŒìŠ¤íŠ¸**
   - ì£¼ë¬¸ ë¼ìš°í„° `OrderRouter`ë¥¼ í†µí•´ ì‹¤ì œ í¬ì§€ì…˜ ì²˜ë¦¬ ì‹œë®¬ë ˆì´ì…˜  
   - ê±°ë˜ ìš”ì•½ ë¦¬í¬íŠ¸(JSON/CSV) ìë™ ì €ì¥ í™•ì¸  

3. **ë¦¬í¬íŠ¸ ìë™ ìš”ì•½**
   - ì†ìµë¥ /ìµì ˆì‚¬ìœ /ì†ì ˆì‚¬ìœ ë¥¼ í¬í•¨í•œ ì¼ë³„ ë¦¬í¬íŠ¸ (`session_summary.csv`) ìƒì„±  
   - PROJECT_MEMORYì— ìë™ ë¡œê·¸ ê¸°ë¡  

4. **ì„¹í„°Â·í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ìŠ¤í¬ í™•ì¥**
   - `data/sector_map.csv` ë¡œë“œ  
   - `ExposurePolicy` ë‚´ `sector_cap` í™œì„±í™”  

---

### ğŸ§© ìš”ì•½
> â€œauto_trade_v20ì€ ì „ëµ ì—”ì§„â€“ë¦¬ìŠ¤í¬â€“Exit ì„¸ ì¶•ì´ ëª¨ë‘ ì•ˆì •í™”ë˜ì—ˆìœ¼ë©°,  
> ì´ì œ í—ˆë¸Œ í†µí•© ë° ë¦¬í¬íŠ¸ ìë™í™”ë§Œ ì™„ë£Œí•˜ë©´ **ì‹¤ì „ ë§¤ë§¤ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ì „í™˜ ê°€ëŠ¥í•œ ë‹¨ê³„ë‹¤.â€

ğŸ“… 2025-10-31 â€” SectorMap ì„¸íŒ… ë° ë¦¬í¬íŠ¸ ê²€ì¦ ì™„ë£Œ
âœ… ì˜¤ëŠ˜ ì‘ì—… ìš”ì•½

ì„¹í„°ë§µ(data/sector_map.csv) ìƒì„± ë° í—ˆë¸Œ ì—°ë™ ì™„ë£Œ
â†’ ì‹¤í–‰ ì‹œ [Sector] loaded map: N symbols ì •ìƒ ë¡œê·¸ í™•ì¸
â†’ ì‹¬ë³¼ 10ê°œ ìƒ˜í”Œ(IT, HEALTH, CHEM, FIN ë“±) í¬í•¨

ë¦¬í¬íŠ¸ ê³„ì‚° ê²€ì¦ (ìˆ˜ìˆ˜ë£Œ/ì„¸ê¸ˆ ë°˜ì˜ FIFO)

write_session_report() í…ŒìŠ¤íŠ¸: tests/smoke_report_fee.py â†’ 1 passed

ìˆ˜ìˆ˜ë£Œ(2bps), ì„¸ê¸ˆ(23bps) ì ìš© í›„ pnl_net ê³„ì‚° ì •ìƒ

BUY/SELL ë¦¬í¬íŠ¸ CSV ìƒì„± ì •ìƒ (logs/reports/daytrade_YYYYMMDD_report.csv)

í†µí•© í…ŒìŠ¤íŠ¸ ê²°ê³¼

smoke_exit_integration.py : âœ… í†µê³¼

smoke_report_fee.py : âœ… í†µê³¼

run_daytrade.py : ë¦¬í¬íŠ¸ + ìš”ì•½ JSON ë™ì‹œ ìƒì„± í™•ì¸

ğŸ”§ ì£¼ìš” ì½”ë“œ ë°˜ì˜

run_daytrade.py :

write_session_report() â†’ FIFO + bps ìˆ˜ìˆ˜ë£Œ/ì„¸ê¸ˆ ê³„ì‚°

CLI ì¸ì --fee-bps-buy, --fee-bps-sell, --tax-bps-sell ì¶”ê°€

ì„¸ì…˜ ì¢…ë£Œ ì‹œ ë¦¬í¬íŠ¸ ìë™ ì €ì¥

ğŸ“‚ ìƒì„± íŒŒì¼
êµ¬ë¶„	ê²½ë¡œ	ë¹„ê³ 
ì„¹í„°ë§µ	data/sector_map.csv	ì‹¬ë³¼ë³„ ì„¹í„° ë§¤í•‘
ë¦¬í¬íŠ¸	logs/reports/daytrade_YYYYMMDD_report.csv	BUY/SELL ì†ìµ, ìˆ˜ìˆ˜ë£Œ, ì„¸ê¸ˆ í¬í•¨
ìš”ì•½	logs/daytrade_YYYYMMDD.summary.json	ì„¸ì…˜ ë©”íƒ€ ì •ë³´
â–¶ ë‹¤ìŒ ë‹¨ê³„

HubTradeì— Exit Rules â†’ RiskGate â†’ OrderRouter ì¼ì›í™” ì—°ê²°

sector_cap_policy ì‘ì„± (ì„¹í„° ë…¸ì¶œ ë¹„ì¤‘ ì œí•œ)

real_mode ì „í™˜ í…ŒìŠ¤íŠ¸ ë° KiwoomAdapter dry-run ì ê²€
## ğŸ“… 2025-10-31 â€” HubTrade í†µí•© ë£¨í”„ ì•ˆì •í™” ì™„ë£Œ

- `Hub` / `HubTrade` ë£¨í”„ êµ¬ì¡° ì™„ì„± (ìµì ˆÂ·ì†ì ˆÂ·íŠ¸ë ˆì¼ë§ â†’ RiskGate â†’ Router)
- `ExitRules`, `RiskGate`, `ExposurePolicy`, `DayDD` ë“± ëª¨ë“  ì •ì±… ì •ìƒ ì—°ë™
- ì‹œê·¸ë‹ˆì²˜ ë¶ˆì¼ì¹˜/ë²„ì „ ì°¨ì´ ëŒ€ì‘ ì™„ë£Œ (`_risk_eval`, `_get_thresholds` ì•ˆì „ ì²˜ë¦¬)
- í…ŒìŠ¤íŠ¸ ê²°ê³¼:
  - âœ… `tests/smoke_exit_integration.py` â€” PASS (0.15s)
  - âœ… `tests/test_daydd_block.py` â€” PASS (0.21s)
- í˜„ì¬ ë²„ì „: **v20 core stable**
- ë‹¤ìŒ ë‹¨ê³„:
  1. ì‹¤ê³„ì¢Œ ì—°ë™ ì „ ëª¨ì˜ ëª¨ë“œ ì ê²€
  2. ë‰´ìŠ¤ ê°ì •/AI ë³´ì •ì—”ì§„ ì—°ë™ ê²€í† 
  3. ì •ì±… í™•ì¥ (ì˜ˆ: ë³€ë™ì„± ê¸°ë°˜ ë…¸ì´ì¦ˆ í•„í„°)

ğŸŒ€ Git Commit:  
`âœ… HubTrade core stable: ExitRulesâ†’RiskGateâ†’Router í†µí•© ì™„ì„±`
## ğŸ“… 2025-10-31 â€” HubTrade ì•ˆì •í™” ì™„ë£Œ

- `hub/hub_trade.py` ë¦¬íŒ©í† ë§ ì™„ë£Œ (ExitRules â†’ RiskGate â†’ OrderRouter ë£¨í”„ ì™„ì„±)
- ScoreEngineÂ·RiskGate ì‹œê·¸ë‹ˆì²˜ ë‹¤ì–‘ì„± ëŒ€ì‘ (`_safe_score`, `_risk_eval`)
- RiskGate ì •ì±… ì •ìƒ í†µê³¼ (`allow=True`, `reason=ok`)
- ë¡œê·¸ ë° ì„¸ì…˜ ë¦¬í¬íŠ¸ ìë™ ì €ì¥ í™•ì¸
- ì”ì—¬ ê²½ê³ (`exposure:ctx-missing`)ëŠ” ë¹„ì¹˜ëª…ì ì´ë©° ë¬´ì‹œ ê°€ëŠ¥
- âœ… ìµœì¢… ìƒíƒœ: ì •ìƒ ì‘ë™ (dry-run ì„±ê³µ), ì‹¤ë§¤ë§¤ ëª¨ë“œ ì „í™˜ ì¤€ë¹„ ì™„ë£Œ



