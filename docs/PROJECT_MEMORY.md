# PROJECT MEMORY â€” auto_trade_v20

ì—…ë°ì´íŠ¸: 2025-10-31
\# PROJECT MEMORY â€” auto\_trade\_v20 (ì˜¤ë¶€ì¥ ì „ìš© ìš”ì•½)



\## ğŸ“… í˜„ì¬ ìƒíƒœ (2025-10-28)

\- ë‰´ìŠ¤ ìë™ ìš”ì•½/ì €ì¥ ì •ìƒ ì‘ë™ (`news\\\\\\\\\\\\\\\_logs/ì˜¤ëŠ˜\\\\\\\\\\\\\\\_ë‰´ìŠ¤\\\\\\\\\\\\\\\_ìš”ì•½\\\\\\\\\\\\\\\_2025-10-28.txt`)

\- `scripts/run\\\\\\\\\\\\\\\_news\\\\\\\\\\\\\\\_8am.bat` ì •ìƒ ì‘ë™

\- `tests/smoke\\\\\\\\\\\\\\\_news.py` ì •ìƒ ë™ì‘ í™•ì¸ë¨

\- ë‹¨íƒ€ ì—”ì§„ (`hub/hub\\\\\\\\\\\\\\\_trade.py`) DRY\_RUN ë§¤ìˆ˜ ì •ìƒ ì²´ê²°ë¨

\- ê¹ƒ ì»¤ë°‹: `3aef258` (snapshot before adding scripts/smoke tests)



\## ğŸ“‚ í´ë” êµ¬ì¡°

\- hub/hub\_trade.py : ì „ëµ í—ˆë¸Œ

\- order/router.py : ì£¼ë¬¸ ë¼ìš°í„°

\- scoring/core.py : ìŠ¤ì½”ì–´ë§ ì—”ì§„

\- risk/core.py : ë¦¬ìŠ¤í¬ ê²Œì´íŠ¸

\- obs/log.py : ë¡œê¹… ëª¨ë“ˆ

\- news\_logs/ : ë‰´ìŠ¤ ê²°ê³¼ ë° ìš”ì•½ ì €ì¥ ê²½ë¡œ

\- scripts/ : ìë™ ì‹¤í–‰ ë°°ì¹˜ (8ì‹œ ë‰´ìŠ¤ í¬í•¨)

\- tests/ : ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ

\- common/config.py : ì „ì—­ ì„¤ì • (DAYTRADE í¬í•¨)



\## ğŸ”§ ë‹¤ìŒ í•  ì¼

1\. Kiwoom ì‹¤ê³„ì¢Œ ëª¨ë“œ ì—°ê²° ì¤€ë¹„

2\. run\_daytrade.pyì— í—ˆë¸Œ ìë™ ì—°ê²° ì¶”ê°€

3\. daily report ìë™ ìš”ì•½ í…œí”Œë¦¿ ì—°ë™



\## ğŸ“… í”„ë¡œì íŠ¸ ìƒíƒœ ìš”ì•½ â€” 2025-10-29



\*\*ë‹¨ê³„:\*\* ì‹¤ì „ ì§„ì… ì§ì „ (v20 ì•ˆì •í™” ë‹¨ê³„)



\*\*í•µì‹¬ ì§„í–‰ ìš”ì•½\*\*

| êµ¬ë¶„ | ë‚´ìš© | ìƒíƒœ |

|------|------|------|

| ì—”ì§„ êµ¬ì¡° | `run\_daytrade.py`, `hub\_trade.py`, `order/router`, `risk/core` ì™„ì„± | âœ… ì™„ë£Œ |

| Kiwoom ì—°ë™ | `KiwoomAdapter` êµ¬í˜„ ë° DRY\_RUN í…ŒìŠ¤íŠ¸ ì™„ë£Œ, ì‹¤ê³„ì¢Œ ì—°ë™ ëŒ€ê¸° | ğŸŸ¡ ì¤€ë¹„ ì¤‘ |

| ë¦¬ìŠ¤í¬ ê´€ë¦¬ | `risk/policies/` ì„¸ë¶„í™” ì„¤ê³„ ì§„í–‰ ì¤‘ (exposure, day\_dd, sector\_cap ë“±) | ğŸŸ¡ ì§„í–‰ ì¤‘ |

| ì„¹í„°ë§µ | `data/sector\_map.csv` ë¡œë“œ ë¡œì§ `hub/hub\_trade.py`ì— ë°˜ì˜ë¨ | ğŸŸ¡ íŒŒì¼ ìƒì„± ì˜ˆì • |

| ë³´ì •ê¸°(ì¹¼ë¦¬ë¸Œë ˆì´í„°) | í™œì„±í™” í…ŒìŠ¤íŠ¸ ì™„ë£Œ (EMA ê¸°ë°˜ ì‹¤ì‹œê°„ ê°€ì¤‘ì¹˜ ì¡°ì •) | âœ… ì™„ë£Œ |

| ë¡œê·¸/ìš”ì•½ | ì„¸ì…˜ ë¡œê·¸(`logs/daytrade\_YYYYMMDD.log`) + ìš”ì•½(JSON) ì •ìƒ ì‘ë™ | âœ… ì™„ë£Œ |

| PROJECT\_MEMORY | ì˜¤ë¶€ì¥ ê¸°ì–µ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™ (watch ìŠ¤í¬ë¦½íŠ¸ ëŒ€ê¸°) | âœ… ì™„ë£Œ |



\*\*í˜„ì¬ ëª¨ë“œ\*\*

\- ì‹¤í–‰ ëª¨ë“œ: `DRY\_RUN` (ì‹¤ê³„ì¢Œ ì „í™˜ ì¤€ë¹„)

\- ì´ ì˜ˆì‚°: 3,000,000ì›

\- ë³´ì •ê¸°: í™œì„±í™”(lr=0.02, hist=100, clip=0.05)

\- ì„¹í„° ê¸°ë°˜ ë¦¬ìŠ¤í¬ ì •ì±…: ì¤€ë¹„ ì¤‘



\*\*ë‹¤ìŒ ë‹¨ê³„\*\*

1\. `risk/policies/` ì„¸ë¶„í™” ì •ì±… í™•ì • (exposure, sector\_cap ë“±)

2\. `data/sector\_map.csv` ì‘ì„± ë° í…ŒìŠ¤íŠ¸

3\. Kiwoom ì‹¤ê³„ì¢Œ ì—°ê²° í…ŒìŠ¤íŠ¸

4\. `REAL\_MODE` ì²« ì‹¤ì „ ë§¤ë§¤ ì„¸ì…˜ ì‹¤í–‰

5\. ìë™ ì»¤ë°‹ ê°ì‹œ(`watch\_project\_memory.py`) í™œì„±í™”



---



ğŸ§© \*í˜„ì¬ ìƒíƒœ ìš”ì•½:\*  

> â€œv20 ì—”ì§„ ë° ë³´ì • ì‹œìŠ¤í…œì´ ì™„ì„±ë˜ì—ˆìœ¼ë©°, ë¦¬ìŠ¤í¬ ì •ì±…ê³¼ ì„¹í„° ë…¸ì¶œ ê³„ì‚° ëª¨ë“ˆë§Œ í™•ì •ë˜ë©´ ì¦‰ì‹œ ì‹¤ì „ ë§¤ë§¤ ì§„ì… ê°€ëŠ¥ ìƒíƒœì„.â€





## ë³€ê²½ ì´ë ¥
- 2025-10-29 â€” test: memory auto update

## ğŸ“… í˜„ì¬ ìƒíƒœ (2025-10-30)
- ë‰´ìŠ¤ ìë™í™” íŒŒì´í”„ë¼ì¸ ì ê²€ ë° ìŠ¤ì¼€ì¤„ëŸ¬ ì •ìƒí™” âœ…
- py -X utf8 -m tests.smoke_news OK
- ìŠ¤ì¼€ì¤„ëŸ¬: NewsSummary_0805 (py ì§ì ‘ í˜¸ì¶œë¡œ ìˆ˜ì •)
- ë¡œê·¸: news_logs\cron\news_8am.log í™•ì¸ (18:12)

## ğŸ“… 2025-10-30 â€” DayDD ë¦¬ìŠ¤í¬ ì œì–´ ê¸°ëŠ¥ í™•ì¥ ì™„ë£Œ

### âœ… ì£¼ìš” ë³€ê²½ ì‚¬í•­
- **risk/day_dd.py**: ì‹¤ê±°ë˜ìš© íŒŒë¼ë¯¸í„° (-2% / -1% / 15ë¶„ / 0.4) ë˜í¼ `make_daydd()` ì¶”ê°€  
- **risk/policies/day_dd_policy.py**: soft-zone ì¶•ì†Œ, hard-cut ì°¨ë‹¨, ì¿¨ë‹¤ìš´ ìœ ì§€ ë¡œì§ ì™„ì„±  
- **risk/core.py**: RiskGate ìë™ ì£¼ì… (`make_daydd()`) + evaluate ë³‘í•© ë¡œê·¸ ì¶œë ¥  
- **hub/hub_trade.py**: MTM ê¸°ë°˜ `equity_now` ê³„ì‚° â†’ DayDD ì»¨í…ìŠ¤íŠ¸ ì „ë‹¬ êµ¬ì¡° ì•ˆì •í™”  
- **í…ŒìŠ¤íŠ¸ í†µê³¼**:
  - `tests/test_daydd_block.py` : í•˜ë“œì»· ì°¨ë‹¨ ì •ìƒ (`daydd_hard`)  
  - `tests/unit_daydd_soft_scale.py` : soft-zone ì¶•ì†Œ ì •ìƒ  
  - `tests/unit_daydd_cooldown.py` : ì¿¨ë‹¤ìš´ í•´ì œ ì •ìƒ  

### ğŸ’¡ í–¥í›„ ê³„íš
1. ìˆ˜ìˆ˜ë£Œ/ì„¸ê¸ˆ ë°˜ì˜í˜• ì†ìµë¥  ê³„ì‚°  
2. ì„¹í„°Â·í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ë°˜ ì¶”ê°€ ë¦¬ìŠ¤í¬ ì •ì±…  
3. ë¦¬í¬íŠ¸ ìš”ì•½ ìë™ ì €ì¥ (daydd_session_summary.csv)


